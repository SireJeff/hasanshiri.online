@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Base theme with CSS variables */
  :root {
    --primary-hue: 158;
    --background: 0 0% 100%;
    --foreground: var(--primary-hue) 50% 20%;
    --card: 0 0% 100%;
    --card-foreground: var(--primary-hue) 50% 20%;
    --popover: 0 0% 100%;
    --popover-foreground: var(--primary-hue) 50% 20%;
    --primary: var(--primary-hue) 60% 40%;
    --primary-foreground: 0 0% 100%;
    --secondary: var(--primary-hue) 30% 96%;
    --secondary-foreground: var(--primary-hue) 50% 20%;
    --muted: var(--primary-hue) 30% 96%;
    --muted-foreground: var(--primary-hue) 40% 40%;
    --accent: var(--primary-hue) 30% 96%;
    --accent-foreground: var(--primary-hue) 50% 20%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: var(--primary-hue) 30% 90%;
    --input: var(--primary-hue) 30% 90%;
    --ring: var(--primary-hue) 50% 20%;
    --radius: 0.75rem;
  }

  .dark {
    --background: var(--primary-hue) 50% 4%;
    --foreground: var(--primary-hue) 40% 98%;
    --card: var(--primary-hue) 50% 4%;
    --card-foreground: var(--primary-hue) 40% 98%;
    --popover: var(--primary-hue) 50% 4%;
    --popover-foreground: var(--primary-hue) 40% 98%;
    --primary: var(--primary-hue) 80% 80%;
    --primary-foreground: var(--primary-hue) 50% 4%;
    --secondary: var(--primary-hue) 30% 15%;
    --secondary-foreground: var(--primary-hue) 40% 98%;
    --muted: var(--primary-hue) 30% 15%;
    --muted-foreground: var(--primary-hue) 40% 70%;
    --accent: var(--primary-hue) 30% 15%;
    --accent-foreground: var(--primary-hue) 40% 98%;
    --destructive: 0 60% 30%;
    --destructive-foreground: var(--primary-hue) 40% 98%;
    --border: var(--primary-hue) 30% 15%;
    --input: var(--primary-hue) 30% 15%;
    --ring: var(--primary-hue) 40% 83%;
  }

  /* Theme variations */
  .theme-emerald { --primary-hue: 158; }
  .theme-purple { --primary-hue: 265; }
  .theme-blue { --primary-hue: 220; }
  .theme-rose { --primary-hue: 350; }
  .theme-amber { --primary-hue: 45; }
  .theme-indigo { --primary-hue: 240; }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  @keyframes pulse-subtle {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }
  @keyframes twinkle {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(0.9);
    }
  }
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes meteor {
    0% {
      transform: rotate(215deg) translateX(0);
      opacity: 1;
    }
    70% {
      opacity: 1;
    }
    100% {
      transform: rotate(215deg) translateX(-500px);
      opacity: 0;
    }
  }
}

@layer base {
  :root {
    --primary-hue: 158; /* Default green hue */

    /* Light Mode - Soft Sage & Warm Neutrals */
    --background: 60 9% 98%;          /* Soft cream white */
    --foreground: 60 12% 15%;         /* Deep charcoal */

    --card: 60 20% 97%;               /* Slightly warmer white */

    --primary: var(--primary-hue) 36% 45%;           /* Sage green */
    --primary-foreground: 60 9% 98%; /* Light background for primary text */

    --border: 60 8% 88%;              /* Soft neutral border */
    
    --secondary: 45 23% 93%;          /* Warm light gray */
    --secondary-foreground: 60 12% 25%; /* Dark text on secondary */
    
    --muted: 60 5% 90%;               /* Very light neutral */
    --muted-foreground: 60 8% 40%;    /* Medium gray text */
    
    /* Additional peaceful colors */
    --accent: 45 84% 75%;             /* Soft golden yellow accent */
    --accent-foreground: 60 12% 15%;  /* Dark text on accent */
    
    --success: 142 76% 36%;           /* Natural green */
    --warning: 43 96% 56%;            /* Warm amber */
    --destructive: 0 72% 51%;         /* Muted red */
  }

  .dark {
    /* Dark Mode - Deep Forest & Warm Grays */
    --background: 60 8% 8%;           /* Deep warm black */
    --foreground: 60 15% 92%;         /* Warm light gray */

    --card: 60 12% 12%;               /* Slightly lighter card background */

    --primary: var(--primary-hue) 42% 55%;           /* Brighter sage for dark mode */
    --primary-foreground: 60 8% 8%;   /* Dark background for primary text */

    --border: 60 8% 18%;              /* Subtle dark border */
    
    --secondary: 60 8% 16%;           /* Dark secondary background */
    --secondary-foreground: 60 15% 85%; /* Light text on secondary */
    
    --muted: 60 5% 20%;               /* Dark muted background */
    --muted-foreground: 60 8% 65%;    /* Medium light gray text */
    
    /* Additional peaceful colors for dark mode */
    --accent: 45 84% 65%;             /* Softer golden yellow for dark */
    --accent-foreground: 60 8% 8%;    /* Dark text on accent */
    
    --success: 142 76% 46%;           /* Brighter natural green */
    --warning: 43 96% 66%;            /* Brighter warm amber */
    --destructive: 0 72% 61%;         /* Softer red for dark mode */
  }

  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    background: hsl(var(--background));
    color: hsl(var(--foreground));
    transition: all 300ms;
    font-feature-settings: "rlig" 1, "calt" 1;
    position: relative;
    @apply bg-background text-foreground min-h-screen;
  }

  /* Light Mode Background Watermarks - Using defined colors */
  body:not(.dark) {
    background: 
      radial-gradient(circle at 20% 20%, var(--watermark-green-1) 0%, transparent 40%),
      radial-gradient(circle at 80% 80%, var(--watermark-green-2) 0%, transparent 35%),
      radial-gradient(circle at 15% 70%, var(--watermark-green-3) 0%, transparent 45%),
      radial-gradient(circle at 85% 30%, var(--watermark-green-4) 0%, transparent 38%),
      radial-gradient(circle at 60% 50%, var(--watermark-green-5) 0%, transparent 42%),
      radial-gradient(circle at 30% 85%, var(--watermark-green-6) 0%, transparent 30%),
      hsl(var(--background)); /* Light background using theme variable */
    background-attachment: fixed;
  }

  /* Dark mode background */
  body.dark {
    background: hsl(var(--background));
  }
}

@layer utilities {
  .container {
    margin-inline: auto;
    padding-inline: 2rem;
  }

  @media (min-width: 640px) {
    .container {
      max-width: 640px;
    }
  }
  @media (min-width: 768px) {
    .container {
      max-width: 768px;
    }
  }
  @media (min-width: 1024px) {
    .container {
      max-width: 1024px;
    }
  }
  @media (min-width: 1280px) {
    .container {
      max-width: 1280px;
    }
  }
  @media (min-width: 1400px) {
    .container {
      max-width: 1400px;
    }
  }

  .text-glow {
    @apply relative;
    text-shadow: 0 0 10px rgba(167, 139, 250, 0.5);
  }

  .card-hover {
    @apply transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg;
  }

  .gradient-border {
    @apply relative rounded-md;
    background: linear-gradient(to right, hsl(var(--card)), hsl(var(--card)));
    background-clip: padding-box;
    border: 1px solid transparent;
  }

  .cosmic-button {
    @apply px-6 py-2 rounded-full bg-primary text-primary-foreground font-medium 
           transition-all duration-300 hover:shadow-[0_0_10px_rgba(139,92,246,0.5)]
           hover:scale-105 active:scale-95;
  }

  .star {
    @apply absolute rounded-full bg-white;
    box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.4);
  }

  .meteor {
    @apply absolute bg-gradient-to-r from-white via-white to-transparent rounded-full;
    box-shadow: 0 0 10px 5px rgba(255, 255, 255, 0.3);
  }
}

#root {
  max-width: 100%;
  margin: 0 auto;
  padding: 0;
  text-align: center;
}

/* RTL Support for Persian */
html[dir="rtl"], 
[dir="rtl"] {
  direction: rtl;
}

html[dir="ltr"], 
[dir="ltr"] {
  direction: ltr;
}

/* Spacing fixes for RTL */
[dir="rtl"] .space-x-8 > :not([hidden]) ~ :not([hidden]) {
  margin-right: 2rem !important;
  margin-left: 0 !important;
}

[dir="rtl"] .space-x-6 > :not([hidden]) ~ :not([hidden]) {
  margin-right: 1.5rem !important;
  margin-left: 0 !important;
}

[dir="rtl"] .space-x-4 > :not([hidden]) ~ :not([hidden]) {
  margin-right: 1rem !important;
  margin-left: 0 !important;
}

[dir="rtl"] .space-x-3 > :not([hidden]) ~ :not([hidden]) {
  margin-right: 0.75rem !important;
  margin-left: 0 !important;
}

[dir="rtl"] .ml-2 {
  margin-left: 0 !important;
  margin-right: 0.5rem !important;
}

[dir="rtl"] .mr-2 {
  margin-right: 0 !important;
  margin-left: 0.5rem !important;
}

/* Text alignment fixes */
[dir="rtl"] .text-right {
  text-align: left !important;
}

[dir="rtl"] .text-left {
  text-align: right !important;
}

/* Flex direction fixes */
[dir="rtl"] .flex-row {
  flex-direction: row !important;
}

[dir="rtl"] .justify-between {
  justify-content: space-between !important;
}

/* Container and layout fixes */
[dir="rtl"] .container {
  direction: rtl;
}

/* Grid fixes */
[dir="rtl"] .grid {
  direction: rtl;
}
